import{_ as s,a as i}from"./vuepress-core-process-C4qfrYlz.js";import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as u,a,b as r,d as t,e as o,w as n,r as d,o as m}from"./app-CMIkvztA.js";const g={};function f(v,e){const l=d("RouteLink");return m(),u("div",null,[e[28]||(e[28]=a('<h1 id="架构" tabindex="-1"><a class="header-anchor" href="#架构"><span>架构</span></a></h1><h2 id="概览" tabindex="-1"><a class="header-anchor" href="#概览"><span>概览</span></a></h2><p><img src="'+s+'" alt="vuepress-architecture-overview"></p><p>上图展示了 VuePress 的简要架构：</p><ul><li>Node App 会生成临时文件，包括页面、路由等。</li><li>Bundler 会将 Client App 和临时文件一起进行打包，就像处理一个普通的 Vue App 一样。</li></ul><p>作为开发者，你必须要意识到 VuePress 分为两个主要部分： <strong>Node App</strong> 和 <strong>Client App</strong> ，这一点对于开发插件和主题来说都十分重要。</p><ul><li>插件或者主题的入口文件会在 Node App 中被加载。</li><li>客户端文件会在 Client App 中被加载，也就是会被 Bundler 处理。比如组件、客户端配置文件等。</li></ul><h2 id="核心流程与-hooks" tabindex="-1"><a class="header-anchor" href="#核心流程与-hooks"><span>核心流程与 Hooks</span></a></h2><p><img src="'+i+'" alt="vuepress-core-process"></p>',9)),r("p",null,[e[1]||(e[1]=t("上图展示了 VuePress 的核心流程以及 ")),o(l,{to:"/zh/reference/plugin-api.html"},{default:n(()=>e[0]||(e[0]=[t("插件 API")])),_:1}),e[2]||(e[2]=t(" 的 Hooks ："))]),r("ul",null,[r("li",null,[e[14]||(e[14]=t("在 ")),e[15]||(e[15]=r("strong",null,"init",-1)),e[16]||(e[16]=t(" 阶段： ")),r("ul",null,[e[13]||(e[13]=r("li",null,"主题和插件会被加载。这意味着插件需要在初始化之前使用。",-1)),r("li",null,[e[7]||(e[7]=t("由于我们要使用 markdown-it 来解析 Markdown 文件，因此需要在加载页面文件之前创建 markdown-it 实例： ")),r("ul",null,[r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#extendsmarkdownoptions"},{default:n(()=>e[3]||(e[3]=[t("extendsMarkdownOptions")])),_:1}),e[4]||(e[4]=t(" Hook 会被调用，用以创建 markdown-it 实例。"))]),r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#extendsmarkdown"},{default:n(()=>e[5]||(e[5]=[t("extendsMarkdown")])),_:1}),e[6]||(e[6]=t(" Hook 会被调用，用以扩展 markdown-it 实例。"))])])]),r("li",null,[e[12]||(e[12]=t("页面文件会被加载： ")),r("ul",null,[r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#extendspageoptions"},{default:n(()=>e[8]||(e[8]=[t("extendsPageOptions")])),_:1}),e[9]||(e[9]=t(" Hook 会被调用，用以创建页面。"))]),r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#extendspage"},{default:n(()=>e[10]||(e[10]=[t("extendsPage")])),_:1}),e[11]||(e[11]=t(" Hook 会被调用，用以扩展页面对象。"))])])])])]),e[27]||(e[27]=r("li",null,[t("在 "),r("strong",null,"prepare"),t(" 阶段： "),r("ul",null,[r("li",null,"临时文件会被生成，因此所有和客户端文件相关的 Hooks 会在此处调用。")])],-1)),r("li",null,[e[24]||(e[24]=t("在 ")),e[25]||(e[25]=r("strong",null,"dev / build",-1)),e[26]||(e[26]=t(" 阶段： ")),r("ul",null,[r("li",null,[e[23]||(e[23]=t("Bundler 会被加载： ")),r("ul",null,[r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#extendsbundleroptions"},{default:n(()=>e[17]||(e[17]=[t("extendsBundlerOptions")])),_:1}),e[18]||(e[18]=t(" Hook 会被调用，用以生成 Bundler 的配置。"))]),r("li",null,[o(l,{to:"/zh/reference/plugin-api.html#alias"},{default:n(()=>e[19]||(e[19]=[t("alias")])),_:1}),e[21]||(e[21]=t(" Hook 和 ")),o(l,{to:"/zh/reference/plugin-api.html#define"},{default:n(()=>e[20]||(e[20]=[t("define")])),_:1}),e[22]||(e[22]=t(" Hook 会被用在 Bundler 的配置中，所以它们会在此处调用。"))])])])])])])])}const y=p(g,[["render",f]]),h=JSON.parse('{"path":"/zh/advanced/architecture.html","title":"架构","lang":"zh-CN","frontmatter":{"icon":"fa6-solid:folder-tree","description":"架构 概览 vuepress-architecture-overview 上图展示了 VuePress 的简要架构： Node App 会生成临时文件，包括页面、路由等。 Bundler 会将 Client App 和临时文件一起进行打包，就像处理一个普通的 Vue App 一样。 作为开发者，你必须要意识到 VuePress 分为两个主要部分： No...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"架构\\",\\"image\\":[\\"https://vuejs.press/images/guide/vuepress-architecture-overview.png\\",\\"https://vuejs.press/images/guide/vuepress-core-process.png\\"],\\"dateModified\\":\\"2025-04-09T09:33:10.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://vuejs.press/zh/advanced/architecture.html"}],["meta",{"property":"og:site_name","content":"VuePress"}],["meta",{"property":"og:title","content":"架构"}],["meta",{"property":"og:description","content":"架构 概览 vuepress-architecture-overview 上图展示了 VuePress 的简要架构： Node App 会生成临时文件，包括页面、路由等。 Bundler 会将 Client App 和临时文件一起进行打包，就像处理一个普通的 Vue App 一样。 作为开发者，你必须要意识到 VuePress 分为两个主要部分： No..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://vuejs.press/images/guide/vuepress-architecture-overview.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-04-09T09:33:10.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-09T09:33:10.000Z"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://vuejs.press/advanced/architecture.html"}]]},"git":{"createdTime":1701614677000,"updatedTime":1744191190000,"contributors":[{"name":"meteorlxy","username":"meteorlxy","email":"meteor.lxy@foxmail.com","commits":2,"url":"https://github.com/meteorlxy"},{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mister-Hope"}]},"readingTime":{"minutes":1.42,"words":427},"filePathRelative":"zh/advanced/architecture.md","localizedDate":"2023年12月3日","autoDesc":true}');export{y as comp,h as data};
